{% extends "layout.html" %}

{% block navBar %}
	<nav class="navbar sticky-top navbar-expand-lg navbar-light bg-light">
		<a class="navbar-brand" href="/"><h4 style="padding-top: 6px;"><strong>Covid19 Predictor - India</strong></h4></a>
		<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="collapse navbar-collapse" id="navbarNavDropdown">
			<ul class="navbar-nav">
				<li class="nav-item active">
					<a class="nav-link" href="/"><img src="static/img/home.png" style="height:20px;"> Home <span class="sr-only">(current)</span></a>
				</li>
      			<li class="nav-item">
        			<a class="nav-link" href="/info"><img src="static/img/faq.png" style="height:20px;"> Info </a>
      			</li>
      			<li class="nav-item">
        			<a class="nav-link" href="/about"><img src="static/img/about.png" style="height:20px;"> About </a>
      			</li>
          	</ul>
        </div>
    </nav>
{% endblock navBar %}

{% block header %}
	<div class="row">
		<div class="col-lg-12">
			<h1 style="padding-top: 45px; padding-bottom: 15px; vertical-align: middle; text-align: center;">Overview</h1>
			<hr class="line">
		</div>
	</div>
{% endblock header %}

{% block bodyContent %}
	<div class="container">
        <div class="row">
            <div class="col"></div>
            <div class="col"></div>
            <span class="step">
                <div class="col">
                    <h1 class="font-weight-bolder" style="text-align: center;"><img src="static/img/india-flag.png" style="width:9%; height:10%"> India</h1>
                    <h5 align="middle" style="color:#8f979e">Last updated from {{ lastUpdateIn }}</h5>
                    <br>
                    <div class="row">
                        <div class="col-sm">
                            <div class="col">
                                <h4 class="font-weight-bold" align="middle" style="color:#f92424"><span class="count">{{ confirmedIn }}</span></h4>
                            </div>
                            <div class="col">
                                <h5 class="font-weight-bolder" align="middle" style="color:#f92424">[+{{ incConfIn }}]</h5>
                            </div>
                            <div class="col">
                                <h5 class="font-weight-bolder" align="middle" style="color:#ffff">Confirmed</h5>
                            </div>
                        </div>

                        <div class="col-sm">
                            <div class="col">
                                <h4 class="font-weight-bold" align="middle" style="color:#24aff9"><span class="count">{{ activeIn }}</span></h4>
                            </div>
                            <div class="col">
                                <h5 class="font-weight-bolder" align="middle" style="color:#ffff">Active</h5>
                            </div>
                        </div>
                        
                        <div class="col-sm">
                            <div class="col">
                                <h4 class="font-weight-bold" align="middle" style="color:#24f937"><span class="count">{{ recoveredIn }}</span></h4>
                            </div>
                            <div class="col">
                                <h5 class="font-weight-bolder" align="middle" style="color:#24f937">[+{{ incRecovIn }}]</h5>
                            </div>
                            <div class="col">
                                <h5 class="font-weight-bolder" align="middle" style="color:#ffff">Recovered</h5>
                            </div>
                        </div>
                        
                        <div class="col-sm">
                            <div class="col">
                               <h4 class="font-weight-bold" align="middle" style="color:#f9e924"><span class="count">{{ deathsIn }}</span></h4>
                           </div>
                            <div class="col">
                                <h5 class="font-weight-bolder" align="middle" style="color:#f9e924">[+{{ incDeaIn }}]</h5>
                            </div>
                            <div class="col">
                                <h5 class="font-weight-bolder" align="middle" style="color:#ffff">Deaths</h5>
                            </div>
                        </div>
                    </div>
                </div>
            </span>
            <div class="col"></div>
            <div class="col"></div>
        </div>
    </div>

    <br>
    <hr class="line">
    <br>

    <!-- <div id="chartdiv"></div> -->
	<!-- <script src="static/js/chart.js"></script> -->

	<!-- <script type="text/javascript" src="https://www.google.com/jsapi"></script>
	<div align="center">
		<div id="visualization"></div>
	</div>
	<script type="text/javascript">
		google.load('visualization', '1', {'packages': ['geochart']});
		google.setOnLoadCallback(drawVisualization);

		function drawVisualization() {
		  var data = google.visualization.arrayToDataTable([
		  	['State Code', 'State', 'Cases'],     
		    [ 'IN-UP','Uttar Pradesh', 33],
		    ['IN-MH','Maharashtra', 32],
		    ['IN-BR','Bihar', 31],
		    ['IN-WB','West Bengal', 32],
		    ['IN-MP','Madhya Pradesh', 30],
		    ['IN-TN','Tamil Nadu', 33],
		    ['IN-RJ','Rajasthan', 33],
		    ['IN-KA','Karnataka', 29],
		    ['IN-GJ','Gujarat', 34],
		    ['IN-AP','Andhra Pradesh', 32],
		    ['IN-OR','Orissa', 33],
		    ['IN-TG','Telangana', 33],
		    ['IN-KL','Kerala', 31],
		    ['IN-JH','Jharkhand', 29],
		    ['IN-AS','Assam', 28],
		    ['IN-PB','Punjab', 30],
		    ['IN-CT','Chhattisgarh', 33],
		    ['IN-HR','Haryana', 30],
		    ['IN-JK','Jammu and Kashmir', 20],
		    ['IN-UT','Uttarakhand', 28],
		    ['IN-HP','Himachal Pradesh', 17],
		    ['IN-TR','Tripura', 31],
		    ['IN-ML','Meghalaya', 21],
		    ['IN-MN','Manipur', 22],
		    ['IN-NL','Nagaland', 22],
		    ['IN-GA','Goa', 32],
		    ['IN-AR', 'Arunachal Pradesh', 33],
		    ['IN-MZ','Mizoram', 23],
		    ['IN-SK','Sikkim', 24],
		    ['IN-DL','Delhi', 31],
		    ['IN-PY','Puducherry', 33],
		    ['IN-CH','Chandigarh', 30],
		    ['IN-AN','Andaman and Nicobar Islands', 30],
		    ['IN-DN','Dadra and Nagar Haveli', 30],
		    ['IN-DD','Daman and Diu', 29],
		    ['IN-LD','Lakshadweep', 31]
		  ]);

		      var opts = {
		        region: 'IN',
		        domain:'IN',
		        displayMode: 'regions',
		        colorAxis: {colors: ['#e5ef88', '#d4b114', '#e85a03']},
		        resolution: 'provinces',
		        /*backgroundColor: '#81d4fa',*/
		        /*datalessRegionColor: '#81d4fa',*/
		        defaultColor: '#f5f5f5',
		        width: 640, 
		        height: 480
		      };
		      var geochart = new google.visualization.GeoChart(
		          document.getElementById('visualization'));
		      geochart.draw(data, opts);
		    };
	</script> -->

    <!-- <br>
    <hr class="line">
    <br> -->

    <div class="container">
        <div class="row">
            <div class="col-sm-4">
                <div class="container" style="overflow-y:scroll; height:500px; width:210px;">
                    <table class="neumorphic" id="StatesTable" border="1" style="cursor: pointer;">
                        <!-- <caption>Select the state</caption> -->
                        <thead>
                            <tr><th>India</th></tr>
                        </thead>
                        <tbody>
                            {% for col in column_names %}
                                <tr><td>{{ col }}</td></tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
                <script language="javascript">
                    var tbl = document.getElementById("StatesTable");
                    if (tbl != null) 
                    {
                        for (var i = 0; i < tbl.rows.length; i++) 
                        {
                            for (var j = 0; j < tbl.rows[i].cells.length; j++)
                            {
                                tbl.rows[i].cells[j].onclick = function() { getval(this); };
                            }
                        }
                    }
                    function getval(cel)
                    {
                        document.getElementById("stateName").value = cel.innerHTML;
                    }
                </script>
            </div>

            <div class="col-sm-8">
                <form class="form-inline" method="POST">
                    <div class="form-group">
                        <input required id="stateName" name="stateName" style="width:12em" placeholder="State Name">
                        &nbsp;
                       <input id="submit" type="submit" value="Submit">
                   </div>
                </form>
            </div>
        </div>
    </div>

    <!-- <script src="static/js/jquery.min.js"></script> -->
    <!-- <script src="static/js/index.js"></script> -->
{% endblock bodyContent %}